<video id="player" autoplay></video>
<button id="capture">Capture</button>
<canvas id="canvas" width="480" height="640"></canvas>
<h1>1111</h1>
<script type=module>
    //端末がカメラが対応している
    const suppoet='mediaDevices' in navigator;

    if(suppoet){
      let player = document.getElementById('player');
      const canvas = document.getElementById('canvas');
      const context = canvas.getContext('2d');
      const captureButton = document.getElementById('capture');
      const constraints = {
      video: true,
    };
    //contextが写真
    captureButton.addEventListener('click', () => {
    context.drawImage(player, 50, 0, 200, 200);
    });
    navigator.mediaDevices.getUserMedia(constraints)
    .then((stream) => {
      player.srcObject = stream;
    });
    }else{
        alert("非対応");
    }
</script>